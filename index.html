<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Jamal Music Player</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: #121212;
            color: white;
            display: flex;
            height: 100vh;
        }

        /* Sidebar */
        #sidebar {
            width: 260px;
            background-color: #000;
            padding: 20px;
            overflow-y: auto;
        }

        .song {
            padding: 10px;
            margin-bottom: 8px;
            background: #181818;
            border-radius: 6px;
            cursor: pointer;
        }

        .song:hover {
            background: #282828;
        }

        /* Centre */
        #main {
            flex: 1;
            padding: 20px;
        }

        #cover {
            width: 250px;
            height: 250px;
            background: black; /* TON CARRÉ NOIR */
            margin-bottom: 20px;
        }

        /* Player bottom */
        #player {
            position: fixed;
            bottom: 0;
            left: 260px;
            right: 0;
            height: 110px;
            background: #181818;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 10px;
        }

        #buttons {
            text-align: center;
        }

        button {
            background: none;
            border: none;
            color: white;
            font-size: 25px;
            margin: 0 15px;
            cursor: pointer;
        }

        button:hover {
            color: #1db954;
        }

        input[type="range"] {
            width: 90%;
            margin: auto;
        }
    </style>
</head>

<body>

    <!-- Sidebar -->
    <div id="sidebar">
        <h2>Playlist de Jamal</h2>
        <div id="songList"></div>
    </div>

    <!-- Main -->
    <div id="main">
        <div id="cover"></div>
        <h2 id="title">Sélectionne une musique</h2>
    </div>

    <!-- Player -->
    <div id="player">
        <div id="buttons">
            <button onclick="prev()">⏮️</button>
            <button onclick="playPause()" id="playBtn">▶️</button>
            <button onclick="next()">⏭️</button>
        </div>
        <input type="range" id="progress" value="0" min="0" max="100">
    </div>

    <audio id="audio"></audio>

    <script>
        const songs = [
            "01.mp3","02.mp3","03.mp3","04.mp3","05.mp3","06.mp3","07.mp3","08.mp3","09.mp3","10.mp3",
            "11.mp3","12.mp3","13.mp3","14.mp3","15.mp3","16.mp3","17.mp3","18.mp3",
            "4_5900176301716673820.mp3",
            "AUDIO-2022-10-20-19-06-25.mp3",
            "Dosseh & Werenoi - La vie de César (feat. Werenoi).mp3",
            "Hös Copperfield - PHOTO.mp3",
            "Millionnaire - Werenoi (320).mp3",
            "Niaks & Werenoi - Michel Cardon.mp3",
            "Rimkus & Werenoi & Lacrim & Mac Tyer - Ali (320).mp3",
            "Werenoi Maes - Selfie(320).mp3",
            "Werenoi & SCH - Magot (128).mp3",
            "Werenoi & Sadek - Roulette.mp3",
            "Werenoi - 10.03.2023.mp3",
            "Werenoi - 3x filtré (128).mp3",
            "Werenoi - 4,5L.mp3",
            "Werenoi - AMG.mp3",
            "Werenoi - Bang (128).mp3",
            "Werenoi - CR (128).mp3",
            "Werenoi - Chaud.mp3",
            "Werenoi - Commission rogatoire.mp3",
            "Werenoi - Des fois.mp3",
            "Werenoi - Fresh Map.mp3",
            "Werenoi - L'addition V2.mp3",
            "Werenoi - Laboratoire.mp3",
            "Werenoi - Les codes (128).mp3",
            "Werenoi - Mauvaise (128).mp3",
            "Werenoi - Minimum 20 Kill.mp3",
            "Werenoi - Ordinateur.mp3",
            "Werenoi - RS3.mp3",
            "Werenoi - Rolls Royce (128).mp3",
            "Werenoi - Roulette (feat. Sadek).mp3",
            "Werenoi - Selfi.mp3",
            "Werenoi - Telavive.mp3",
            "Werenoi - Tu connais (128).mp3",
            "Werenoi - Téléphone.mp3",
            "Werenoi - unknown 2.mp3",
            "Werenoi - unknown.mp3",
            "Werenoi – 6 Étoiles.mp3",
            "Werenoi – Guadalajara.mp3",
            "Werenoi – Rodave.mp3",
            "the S & Werenoi - Domperignon.mp3"
        ];

        const BASE = "https://github.com/rayanev1295/project-mp3-jamal/raw/refs/heads/main/";

        const audio = document.getElementById("audio");
        const title = document.getElementById("title");
        const progress = document.getElementById("progress");
        const playBtn = document.getElementById("playBtn");
        let index = 0;

        function loadSong(i) {
            index = i;
            audio.src = BASE + encodeURIComponent(songs[i]);
            title.innerText = songs[i];
            play();
        }

        function play() {
            audio.play();
            playBtn.innerText = "⏸️";
        }

        function playPause() {
            if (audio.paused) play();
            else {
                audio.pause();
                playBtn.innerText = "▶️";
            }
        }

        function next() {
            loadSong((index + 1) % songs.length);
        }

        function prev() {
            loadSong((index - 1 + songs.length) % songs.length);
        }

        audio.ontimeupdate = () => {
            progress.value = (audio.currentTime / audio.duration) * 100;
        };

        progress.oninput = () => {
            audio.currentTime = (progress.value / 100) * audio.duration;
        };

        // Charger les titres dans la playlist
        const list = document.getElementById("songList");
        songs.forEach((s, i) => {
            const div = document.createElement("div");
            div.className = "song";
            div.innerText = s;
            div.onclick = () => loadSong(i);
            list.appendChild(div);
        });
    </script>

</body>
</html>
